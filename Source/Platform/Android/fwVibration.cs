using System;
using Microsoft.Devices;
using Microsoft.Xna.Framework;


namespace Pluton.SystemProgram.Devices
{
    ///--------------------------------------------------------------------------------------







    ///=====================================================================================
    ///
    /// <summary>
    /// Система вибрации
    /// </summary>
    /// 
    ///--------------------------------------------------------------------------------------
    public class AVibrationDevice
    {
        ///--------------------------------------------------------------------------------------
        private bool mEnabled = false;
        ///--------------------------------------------------------------------------------------







        ///=====================================================================================
        ///
        /// <summary>
        /// Constructor
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public AVibrationDevice()
        {
            gVibration.setInstance(this);
        }
        ///--------------------------------------------------------------------------------------






        ///=====================================================================================
        ///
        /// <summary>
        /// проверка, вибрация существует или нет
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public bool isVibration()
        {
            return true;
        }
        ///--------------------------------------------------------------------------------------







        ///=====================================================================================
        ///
        /// <summary>
        /// Включенна выключена вибрация
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public bool enabled
        {
            get
            {
                return mEnabled;
            }
            set
            {
                mEnabled = value;
            }
        }
        ///--------------------------------------------------------------------------------------









        ///=====================================================================================
        ///
        /// <summary>
        /// начало вибрации
        /// 
        /// описание партитуры вибрации в милесекундах
        /// четные числа - вбирация
        /// нечетные числа - ожидание
        /// private readonly int[] m_vibSelectMenu = new int[] { 50, 100, 100 };
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public void playOne(int[] tone)
        {
            if (mEnabled)
            {
                /*
                try
                {
                    SystemSound.Vibrate.PlaySystemSound();
                }
                catch
                {

                }*/
            }
        }
        ///--------------------------------------------------------------------------------------







        ///=====================================================================================
        ///
        /// <summary>
        /// Вибрация, всякая
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public void update(TimeSpan gameTime)
        {
            
        }
        ///--------------------------------------------------------------------------------------










        ///=====================================================================================
        ///
        /// <summary>
        /// Загрузка настроек
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public void loadSettings(AStorage settings)
        {
            mEnabled = settings.readBoolean("vibration", mEnabled);
        }
        ///--------------------------------------------------------------------------------------







        ///=====================================================================================
        ///
        /// <summary>
        /// Сохранение настроек
        /// </summary>
        /// 
        ///--------------------------------------------------------------------------------------
        public void saveSettings(AStorage settings)
        {
            settings.writeBoolean("vibration", mEnabled);
        }
        ///--------------------------------------------------------------------------------------














    }
}
